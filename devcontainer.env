# DevContainer Environment Variables - Single Source of Truth
# This file is the authoritative source for all environment variables used across the MCP cluster

# ============================================================================
# AUTHENTICATION & CREDENTIALS
# ============================================================================
GITHUB_PAT=${GH_PAT}
DOCKER_POSTGRES_PASSWORD=${DOCKER_POSTGRES_PASSWORD:-password}
MARIADB_PASSWORD=${MARIADB_PASSWORD:-password}

# ============================================================================
# DATABASE CONNECTIONS
# ============================================================================
POSTGRES_HOST=postgres-db
POSTGRES_PORT=5432
POSTGRES_USER=postgres
POSTGRES_DB=postgres
POSTGRES_CONNECTION=postgresql://postgres:${DOCKER_POSTGRES_PASSWORD:-password}@postgres-db:5432/postgres

MARIADB_HOST=mariadb
MARIADB_PORT=3306
MARIADB_USER=root
MARIADB_DB=mcp_db
MARIADB_CONNECTION=mysql://root:${MARIADB_PASSWORD:-password}@mariadb:3306/mcp_db

# ============================================================================
# BUILDKIT CONFIGURATION
# ============================================================================
BUILDKIT_HOST=tcp://buildkit:1234
BUILDKIT_STEP_LOG_MAX_SIZE=10485760

# ============================================================================
# GITHUB ACTIONS RUNNER
# ============================================================================
GITHUB_OWNER=DeanLuus22021994
GITHUB_REPO=react-scuba
RUNNER_NAME=react-scuba-runner
RUNNER_WORKDIR=/work
RUNNER_LABELS=docker,linux,x64,self-hosted
EPHEMERAL=true

# ============================================================================
# GATEWAY MONITORING STACK
# ============================================================================
GRAFANA_ADMIN_PASSWORD=admin
PROMETHEUS_RETENTION=15d

# ============================================================================
# NVIDIA GPU CONFIGURATION (k8s-plugin only)
# ============================================================================
NVIDIA_VISIBLE_DEVICES=all
NVIDIA_DRIVER_CAPABILITIES=compute,utility

# ============================================================================
# NETWORK CONFIGURATION
# ============================================================================
MCP_NETWORK=mcp-cluster
MCP_SUBNET=172.28.0.0/16
MCP_GATEWAY=172.28.0.1

# Static IP Assignments
POSTGRES_DB_IP=172.28.0.20
MARIADB_IP=172.28.0.21
POSTGRES_MCP_IP=172.28.0.31
MARIADB_MCP_IP=172.28.0.32
PYTHON_EXPERIMENTAL_IP=172.28.0.40
K8S_PLUGIN_IP=172.28.0.50
BUILDKIT_IP=172.28.0.55
RUNNER_IP=172.28.0.56
DEVCONTAINER_IP=172.28.0.60
NGINX_IP=172.28.0.70
PROMETHEUS_IP=172.28.0.71
GRAFANA_IP=172.28.0.72

# ============================================================================
# NODE.JS CONFIGURATION
# ============================================================================
NODE_ENV=development
NODE_OPTIONS=--max-old-space-size=2048 --enable-source-maps
NPM_CONFIG_CACHE=/cache/node

# ============================================================================
# PYTHON CONFIGURATION
# ============================================================================
PYTHONPROFILEIMPORTTIME=1
PYTHONOPTIMIZE=2
PYTHONDONTWRITEBYTECODE=1
PYTHONPYCACHEPREFIX=/cache/python/bytecode
PIP_CACHE_DIR=/cache/python/pip
PIP_NO_COMPILE=0
PIP_DISABLE_PIP_VERSION_CHECK=1

# Python Experimental (3.15.0a1 free-threaded)
PYTHON_VERSION=3.15.0a1

# ============================================================================
# GIT CONFIGURATION
# ============================================================================
GIT_TEMPLATE_DIR=/cache/git/templates
GIT_CONFIG_GLOBAL=/cache/git/config

# ============================================================================
# KUBERNETES CONFIGURATION
# ============================================================================
KUBECONFIG=/root/.kube/config
HELM_CACHE_HOME=/cache/k8s/helm
HELM_CONFIG_HOME=/root/.config/helm
HELM_DATA_HOME=/root/.local/share/helm

# ============================================================================
# SERVICE VERSIONS
# ============================================================================
KUBECTL_VERSION=v1.31.2
HELM_VERSION=v3.16.2
KOMPOSE_VERSION=v1.34.0
K9S_VERSION=v0.32.5
PYTHON_EXPERIMENTAL_VERSION=3.15.0a1

# ============================================================================
# CACHE PATHS
# ============================================================================
CACHE_ROOT=/cache
CACHE_NODE=/cache/node
CACHE_PYTHON=/cache/python
CACHE_GIT=/cache/git
CACHE_K8S=/cache/k8s
CACHE_HTTP=/cache/http

# ============================================================================
# WORKSPACE PATHS
# ============================================================================
WORKSPACE_ROOT=/workspaces
REPOS_PATH=/repos
MEMORY_STORAGE_PATH=/memory
